<!doctype html><html lang="pl"><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Open Base + SI² — Reports</title>
<style>
:root { --bg:#0b1220; --fg:#e5e7eb; --mut:#9ca3af; --card:#111827; --accent:#60a5fa; }
* { box-sizing:border-box; }
body { margin:0; font:16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu; background:var(--bg); color:var(--fg); }
header { padding:20px 24px; border-bottom:1px solid #1f2937; display:flex; align-items:center; gap:16px; flex-wrap:wrap; }
h1 { margin:0; font-size:20px; letter-spacing:.2px }
main { padding:24px; max-width:1100px; margin:0 auto }
.grid { display:grid; grid-template-columns: repeat(auto-fill,minmax(260px,1fr)); gap:18px; }
.card { background:var(--card); border:1px solid #1f2937; border-radius:14px; overflow:hidden; display:flex; flex-direction:column; }
.card img { width:100%; aspect-ratio:16/9; object-fit:cover; border-bottom:1px solid #1f2937; }
.card .body { padding:12px 14px; }
.card h3 { margin:0 0 6px 0; font-size:16px }
.card p { margin:0 0 10px 0; color:var(--mut); min-height:38px }
.tags { display:flex; flex-wrap:wrap; gap:6px; margin-top:auto }
.tag { font-size:12px; color:#cbd5e1; background:#0f172a; border:1px solid #1f2937; padding:2px 8px; border-radius:999px }
.controls { margin-left:auto; display:flex; gap:8px; align-items:center }
input[type="search"] { background:#0f172a; border:1px solid #1f2937; color:var(--fg); padding:8px 10px; border-radius:10px; min-width:240px }
a.button { color:#0b1220; background:var(--accent); text-decoration:none; padding:8px 10px; border-radius:10px; font-weight:600 }
footer { color:#9ca3af; padding:16px 24px; border-top:1px solid #1f2937; font-size:14px }
small { color:#94a3b8 }
</style>
<header>
  <h1>Open Base + SI² — Raporty</h1>
  <div class="controls">
    <input id="q" placeholder="Szukaj (tytuł / tag)" type="search">
    <a class="button" href="../index.html">Strona główna</a>
  </div>
</header>
<main>
  <div id="meta"><small>Ładowanie katalogu…</small></div>
  <div id="grid" class="grid"></div>
</main>
<footer>
  <small>Auto‑katalog generowany z <code>reports/catalog.json</code>. Dodaj nowy raport → dopisz wpis w JSON i wrzuć pliki.</small>
</footer>
<script>
async function load() {
  const res = await fetch('catalog.json');
  const cat = await res.json();
  document.getElementById('meta').innerHTML = `<small>Ostatnia aktualizacja: ${cat.updated}. Pozycje: ${cat.items.length}.</small>`;
  const grid = document.getElementById('grid');
  const q = document.getElementById('q');
  function render(filter='') {
    const f = filter.toLowerCase();
    grid.innerHTML = cat.items
      .filter(it => !f || it.title.toLowerCase().includes(f) || (it.tags||[]).join(' ').toLowerCase().includes(f))
      .map(it => `
        <div class="card">
          <a href="../${it.path}"><img src="../${it.cover}" alt=""></a>
          <div class="body">
            <h3><a href="../${it.path}">${it.title}</a></h3>
            <p>${it.summary}</p>
            <div class="tags">${(it.tags||[]).map(t => `<span class="tag">${t}</span>`).join(' ')}</div>
          </div>
        </div>`).join('');
  }
  render();
  q.addEventListener('input', e => render(e.target.value));
}
load();
</script>
